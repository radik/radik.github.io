Title: 20 советов при проектировании баз данных
Date: 2013-02-04 21:47:49
Author: Radik Fattakhov
Category: Blog
Slug: 2013-02-04-20

**Disclaimer**: Это перевод [статьи с JavaCodeGeeks](http://www.javacodegeeks.com/2012/02/20-database-design-best-practices.html "20 Database Design Best Practices")  Перевод
сделан исключительно из эгоистических соображений для повышения
собственного уровня грамотности. Мое мнение не обязательно совпадает с
мнением автора.

1.  Используйте понятные и значимые имена таблиц и колонок (н-р, School,
    StudentCourse, CourseID …)
2.  Используйте единственное число для названия таблиц
    (т.е. StudentCourse вместо StudentCourses). Таблица и так
    представляет коллекцию сущностей, нет никакой необходимости во
    множественном числе.
3.  Не используйте пробельные символы в именах таблиц, иначе вам
    прийдется использовать ‘{‘, ‘[‘, ‘“’ и др. знаки для обозначения
    таблиц (н-р, для доступа к таблице Student Course надо будет
    написать “Student Course”. StudentCourse намного лучше).
4.  Не используйте излишние префиксы и суффиксы в именах таблиц
    (пишите School вместо TblSchool, SchoolTable и т.п.).
5.  Храните пароли в шифрованном виде. Расшифровывайте, при
    необходимости, в приложении.
6.  Используйте целочисленные идентификаторы во всех таблицах. Даже если
    сейчас в этом нет необходимости, они могут пригодиться в будущем
    (для связи таблиц, для индексирования...).
7.  Для создания индексов используйте колонки с целочисленными
    значениями. Индексирование по varchar-значениям может вызвать
    проблемы с производительностью.
8.  Используйте тип bit для хранения логических (boolean) полей.
    Использование integer и varchar - излишние траты на хранение. Имена
    этих полей начинайте с "Is".
9.  Разграничивайте доступ к вашей базе данных. Не раздвайте привилегии
    администратора каждому пользователю.
10. Используйте запросы “select \*” только если это действительно
    необходимо. Используйте "select [список\_необходимых\_полей]” для
    повышения производительности.
11. Если ваше приложение достаточно велико, используйте ORM (object
    relational mapping) фреймворки (н-р, hibernate, iBatis …). Проблемы
    с производительностью ORM фреймворков могут быть решены подходящим
    подбором параметров для их конфигурации.
12. Разделяйте физически большие и не используемые/редко используемые
    таблицы/части таблиц для лучшей производительности.
13. Для больших, чувствительных и критических систем баз данных
    используйте сервисы для аврийного восстановления, автоматическое
    создание backup'ов,  отказоустойчивую кластеризацию, репликацию и
    т.д.
14. Используйте ограничения (foreign key, check, not null …) для
    целостности данных. Не отдавайте полностью контроль приложению.
15. Нехватка документации БД - зло. Документируйте дизайн вашей базы
    данных при помощи схемы отношений сущностей и инструкций. Пишите
    комментарии к вашим триггерам, хранимым процедурам и другим
    скриптам.
16. Используйте индексы для больших и часто используемых таблиц.
    Инструменты для анализа пригодятся для того, чтобы определить, где
    необходимо объявить индексы. Для запросов, возвращающих множество
    строк, обычно лучше подходят clustered indexes. Для точечных
    запросов - non-clustered indexes.
17. Сервер базы данных и сервер приложения должны располагаться на
    разных машинах. Это позволит улучшить безопасность (злоумышленники
    не смогут получить прямого доступа к данным)
    и производительность CPU и памяти сервера  будет лучше, так как это
    уменьшит количество запросов.
18. Поля содержащие бинарные данные не должны объявляться в часто
    используемых таблицах из-за проблем с производительностью. Эти
    данные должны располагаться в другой таблице. Их указатели могут
    быть использованы в часто используемых таблицах.
19. Надо правильно использовать нормализацию для оптимизации
    производительности. Недостаточная нормализация приведет к повторному
    использованию данных, излишняя нормализация приведет к возникновению
    большого количества join'ов с использованием множества таблиц. И
    первый, и второй случай ухудшат производительность.
20. Не пожалейте время на моделирование и дизайн базы данных. Это с
    лихвой окупиться в будущем.

